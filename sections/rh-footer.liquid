{% schema %}
  {
    "name": "RH Footer",
    "settings": [
      {
        "type": "image_picker",
        "id": "logo",
        "label": "Footer Logo"
      },
      {
        "type": "link_list",
        "id": "footer_menu_1",
        "label": "First Menu",
        "default": "footer"
      },
      {
        "type": "link_list",
        "id": "footer_menu_2",
        "label": "Second Menu",
        "default": "footer"
      },
      {
        "type": "link_list",
        "id": "footer_menu_3",
        "label": "Third Menu",
        "default": "footer"
      },
      {
        "type": "link_list",
        "id": "footer_menu_4",
        "label": "Fourth Menu",
        "default": "footer"
      }
    ],
    "blocks": [
      {
        "type": "social_media",
        "name": "Social Media",
        "settings": [
          {
            "type": "url",
            "id": "social_link",
            "label": "Social Media Link"
          },
          {
            "type": "image_picker",
            "id": "social_icon",
            "label": "Social Icon"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "RH Footer",
        "blocks": [
          {
            "type": "social_media"
          },
          {
            "type": "social_media"
          },
          {
            "type": "social_media"
          }
        ]
      }
    ]
  }
{% endschema %}

{% style %}
  /* Footer Styles */
  .mm-footer {
    background: #000028;
    overflow: hidden;
    padding: 40px 20px;
    width: 100%;
  }

  .mm-footer .container-rh {
    max-width: 1280px;
    margin: 0 auto;
  }

  .mm-footer-top {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    padding-bottom: 40px;
    border-bottom: 1px solid #0D0D33;
    margin-bottom: 24px;
  }

  .mm-footer-left {
    display: flex;
    flex-direction: column;
    gap: 64px;
    width: 65%;
  }

  .mm-footer-brand {
    display: flex;
    flex-direction: column;
    gap: 24px;
    width: 248px;
  }

  .mm-footer-logo {
    color: white;
    font-size: 24px;
    font-family: 'Siemens Sans'
    , sans-serif;
    font-weight: 700;
    line-height: 130%;
  }

  .mm-footer-socials {
    display: flex;
    align-items: center;
    gap: 32px;
  }

  .mm-social-icon {
    width: 24px;
    height: 24px;
    position: relative;
    background: white;
    border-radius: 50%;
  }

  .mm-footer-links {
    display: flex;
    gap: 113px;
    width: 100%;
  }

  .mm-footer-links-col {
    display: flex;
    flex-direction: column;
    gap: 16px;
    width: 104px;
  }

  .mm-footer-link {
    color: white;
    font-size: 18px;
    font-family: 'Siemens Sans'
    , sans-serif;
    font-weight: 400;
    line-height: 28px;
    cursor: pointer;
    text-decoration: none;
  }

  .mm-footer-right {
    width: 35%;
    max-width: 409px;
    display: flex;
    flex-direction: column;
    gap: 24px;
  }

  .mm-certificate-validator {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  .mm-validator-title {
    color: white;
    font-size: 24px;
    font-family: 'Siemens Sans'
    , sans-serif;
    font-weight: 700;
    line-height: 31.2px;
  }

  .mm-validator-desc {
    color: white;
    font-size: 18px;
    font-family: 'Siemens Sans'
    , sans-serif;
    font-weight: 400;
    line-height: 28px;
  }

  .mm-validator-input {
    height: 46px;
    position: relative;
    background: rgba(0, 230, 220, 0.12);
    overflow: hidden;
    border-bottom: 1px solid #B3B3BE;
  }

  .mm-input-placeholder {
    position: absolute;
    left: 16px;
    top: 9px;
    color: white;
    font-size: 18px;
    font-family: 'Siemens Sans'
    , sans-serif;
    font-weight: 400;
    line-height: 28px;
  }

  .mm-search-icon {
    position: absolute;
    right: 16px;
    top: 11px;
    width: 24px;
    height: 24px;
    background: white;
  }

  .mm-footer-bottom {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .mm-copyright {
    color: white;
    font-size: 18px;
    font-family: 'Siemens Sans'
    , sans-serif;
    font-weight: 400;
    line-height: 28px;
  }

  .mm-legal-links {
    display: flex;
    align-items: center;
    gap: 40px;
  }

  .mm-legal-link {
    color: white;
    font-size: 18px;
    font-family: 'Siemens Sans'
    , sans-serif;
    font-weight: 400;
    line-height: 28px;
    cursor: pointer;
    text-decoration: none;
  }

  /* Newsletter Form Styles */
  .newsletter-form__field-wrapper {
    position: relative;
    width: 100%;
  }

  .field {
    position: relative;
    width: 100%;
  }

  .field__input {
    width: 100%;
    height: 46px;
    background: rgba(0, 230, 220, 0.12);
    border: none;
    border-bottom: 1px solid #B3B3BE;
    color: white;
    font-size: 18px;
    font-family: 'Siemens Sans'
    , sans-serif;
    padding: 9px 50px 9px 16px;
  }

  .field__input::placeholder {
    color: white;
    opacity: 0.7;
  }

  .field__label {
    position: absolute;
    left: 16px;
    top: -20px;
    color: white;
    font-size: 14px;
    opacity: 0;
    transition: all 0.3s ease;
  }

  .field__input:focus + .field__label,
  .field__input:not(:placeholder-shown) + .field__label {
    opacity: 1;
    top: -20px;
  }

  .newsletter-form__button {
    position: absolute;
    right: 16px;
    top: 50%;
    transform: translateY(-50%);
    background: transparent;
    border: none;
    cursor: pointer;
    padding: 0;
    color: white;
  }

  .newsletter-form__message {
    margin-top: 10px;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .newsletter-form__message--success {
    color: #00E6DC;
  }

  .form__message {
    font-size: 14px;
  }

  #ContactFooter-error {
    color: #ff0000;
  }

  .svg-wrapper {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
  }

  /* Responsive Styles for Footer */
  @media (max-width: 1200px) {
    .mm-footer-links {
      gap: 60px;
    }
  }

  @media (max-width: 991px) {
    .mm-footer-top {
      flex-direction: column;
      align-items: flex-start;
      gap: 40px;
    }

    .mm-footer-left,
    .mm-footer-right {
      width: 100%;
      max-width: 100%;
    }

    .mm-footer-links {
      gap: 40px;
    }
  }

  @media (max-width: 768px) {
    .mm-footer {
      padding: 30px 20px;
    }

    .mm-footer-links {
      flex-wrap: wrap;
      gap: 30px;
    }

    .mm-footer-links-col {
      width: calc(50% - 15px);
    }

    .mm-footer-bottom {
      flex-direction: column;
      align-items: flex-start;
      gap: 20px;
    }

    .mm-legal-links {
      flex-wrap: wrap;
      gap: 20px;
    }
  }

  @media (max-width: 480px) {
    .mm-footer-links-col {
      width: 100%;
    }

    .mm-footer-link,
    .mm-legal-link,
    .mm-copyright,
    .mm-validator-desc {
      font-size: 16px;
      line-height: 24px;
    }

    .mm-footer-logo,
    .mm-validator-title {
      font-size: 20px;
      line-height: 28px;
    }

    .mm-legal-links {
      flex-direction: column;
      align-items: flex-start;
      gap: 10px;
    }
  }
{% endstyle %}

<footer class="mm-footer">
  <div class="container-rh">
    <div class="mm-footer-top">
      <div class="mm-footer-left">
        <div class="mm-footer-brand">
          <div class="mm-footer-logo">
            {%- if section.settings.logo != blank -%}
              <img src="{{ section.settings.logo | img_url: 'master' }}" alt="{{ shop.name }}">
            {%- else -%}
              {{ shop.name }}
            {%- endif -%}
          </div>
          <div class="mm-footer-socials">
            {%- for block in section.blocks -%}
              {%- if block.type == 'social_media' and block.settings.social_link != blank -%}
                <a href="{{ block.settings.social_link }}" class="mm-social-icon">
                  {%- if block.settings.social_icon != blank -%}
                    <img src="{{ block.settings.social_icon | img_url: 'small' }}" alt="Social Icon">
                  {%- endif -%}
                </a>
              {%- endif -%}
            {%- endfor -%}
          </div>
        </div>
        <div class="mm-footer-links">
          {% for i in (1..4) %}
            {%- assign menu_setting = 'footer_menu_' | append: i -%}
            {% assign menu = section.settings[menu_setting] %}
            {% if menu != blank %}
              <div class="mm-footer-links-col">
                {% for link in menu.links %}
                  <a href="{{ link.url }}" class="mm-footer-link">{{ link.title }}</a>
                {% endfor %}
              </div>
            {% endif %}
          {% endfor %}
        </div>
      </div>
      <div class="mm-footer-right">
        <div class="newsletter">
          <div class="mm-certificate-validator">
            <div class="mm-validator-title">Newsletter</div>
            <div class="mm-validator-desc">Subscribe to our newsletter for updates and exclusive offers.</div>
          </div>
          {%- form 'customer'
            , id: 'ContactFooter'
            , class: 'footer__newsletter newsletter-form' -%}
            <input
              type="hidden"
              name="contact[tags]"
              value="newsletter">
            <div class="newsletter-form__field-wrapper">
              <div class="field">
                <input
                  id="NewsletterForm--{{ section.id }}"
                  type="email"
                  name="contact[email]"
                  class="field__input"
                  value="{{ form.email }}"
                  aria-required="true"
                  autocorrect="off"
                  autocapitalize="off"
                  autocomplete="email"
                  {% if form.errors %}
                  autofocus
                  aria-invalid="true"
                  aria-describedby="ContactFooter-error"
                  {% elsif form.posted_successfully? %}
                  aria-describedby="ContactFooter-success"
                  {% endif %}
                  placeholder="{{ 'newsletter.label' | t }}"
                  required>
                <label class="field__label" for="NewsletterForm--{{ section.id }}">
                  {{ 'newsletter.label' | t }}
                </label>
                <button
                  type="submit"
                  class="newsletter-form__button field__button"
                  name="commit"
                  id="Subscribe"
                  aria-label="{{ 'newsletter.button_label' | t }}">
                  <span class="svg-wrapper">
                    {{- 'icon-arrow.svg' | inline_asset_content -}}
                  </span>
                </button>
              </div>
              {%- if form.errors -%}
                <small class="newsletter-form__message form__message" id="ContactFooter-error">
                  <span class="svg-wrapper">
                    {{- 'icon-error.svg' | inline_asset_content -}}
                  </span>
                  {{- form.errors.translated_fields.email | capitalize }}
                  {{ form.errors.messages.email -}}
                </small>
              {%- endif -%}
            </div>
            {%- if form.posted_successfully? -%}
              <h3
                class="newsletter-form__message newsletter-form__message--success form__message"
                id="ContactFooter-success"
                tabindex="-1"
                autofocus>
                <span class="svg-wrapper">
                  {{- 'icon-success.svg' | inline_asset_content -}}
                </span>
                {{- 'newsletter.success' | t }}
              </h3>
            {%- endif -%}
          {%- endform -%}
        </div>
      </div>
    </div>
    <div class="mm-footer-bottom">
      <div class="mm-copyright">&copy; {{ 'now' | date: "%Y" }} {{ shop.name }}</div>
      <div class="mm-legal-links">
        {%- if shop.policies != blank -%}
          {%- for policy in shop.policies -%}
            <a href="{{ policy.url }}" class="mm-legal-link">{{ policy.title }}</a>
          {%- endfor -%}
        {%- endif -%}
      </div>
    </div>
  </div>
</footer>